(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(f){var g="colorScroll",h=window.document,c=f(h),b=f(window),k={UPDATE:"update.colorScroll"},d={colors:[{color:"#FFFFFF",position:"0%"},{color:"#000000",position:"100%"}],scrollElement:c,fauxScroll:false},j=(function(){var n=h.createElement("div");var m=n.style;m.cssText="border-color:rgba(150,255,150,.5)";return(""+m.borderColor).indexOf("rgba")>-1}()),a=function(m){return function(o,n){return(o[m]<n[m])?-1:(o[m]>n[m])?1:0}},e=function(o,m,p){var n="rgb"+(j?"a":"")+"("+parseInt((o[0]+p*(m[0]-o[0])),10)+","+parseInt((o[1]+p*(m[1]-o[1])),10)+","+parseInt((o[2]+p*(m[2]-o[2])),10);if(j){n+=","+(o&&m?parseFloat(o[3]+p*(m[3]-o[3])):1)}n+=")";return n},l=function(n){var o,m;if((o=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(n))){m=[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16),1]}else{if((o=/#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(n))){m=[parseInt(o[1],16)*17,parseInt(o[2],16)*17,parseInt(o[3],16)*17,1]}else{if((o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))){m=[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),1]}else{if((o=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9\.]*)\s*\)/.exec(n))){m=[parseInt(o[1],10),parseInt(o[2],10),parseInt(o[3],10),parseFloat(o[4])]}}}}return m};function i(n,m){this.element=n;this.$element=f(n);this.options=f.extend({},d,m);this._defaults=d;this._name=g;this.init()}i.prototype={colors:[],init:function(){this.setPositions();this.currentColor=this.$element.css("border-color");this.updateColor();this.addListeners()},addListeners:function(){var m=this;this.options.scrollElement.on("scroll",f.proxy(this.updateColor,this));b.on("debouncedresize",function(){m.setPositions();m.updateColor()})},setPositions:function(){var o=c.height()-b.height(),m=[];for(var n=0;n<this.options.colors.length;n++){var p={},q=this.options.colors[n].position;p.color=this.options.colors[n].color;if(typeof q==="string"){if(q.charAt(q.length-1)==="%"){p.position=Math.floor((parseFloat(q)*o)/100)}else{p.position=parseFloat(q)}}else{p.position=q}m.push(p)}m.sort(a("position"));this.colors=m},updateColor:function(){var t=c.scrollTop(),r,q,n,m;if(t<=this.colors[0].position){this.setColor(this.colors[0].color)}else{if(t>=this.colors[this.colors.length-1].position){this.setColor(this.colors[this.colors.length-1].color)}else{for(var p=0;p<this.colors.length;p++){if(t>=this.colors[p].position){r=this.colors[p].position;n=this.colors[p].color}else{q=this.colors[p].position;m=this.colors[p].color;break}}var s=((t-r)/(q-r));var o=e(l(n),l(m),s);this.setColor(o)}}},setColor:function(m){if(m!==this.currentColor){this.$element.css("border-color",m);this.currentColor=m;this.$element.trigger(k.UPDATE,{color:m})}}};f.fn[g]=function(m){return this.each(function(){if(!f.data(this,"plugin_"+g)){f.data(this,"plugin_"+g,new i(this,m))}})}}));(function(d){var b=d.event,a,c;a=b.special.debouncedresize={setup:function(){d(this).on("resize",a.handler)},teardown:function(){d(this).off("resize",a.handler)},handler:function(i,e){var h=this,g=arguments,f=function(){i.type="debouncedresize";b.dispatch.apply(h,g)};if(c){clearTimeout(c)}if(e){f()}else{c=setTimeout(f,a.threshold)}},threshold:150}})(jQuery);